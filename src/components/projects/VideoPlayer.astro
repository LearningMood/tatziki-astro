---
export interface Props {
  src: string;
  poster?: string;
  autoplay?: boolean;
  loop?: boolean;
  muted?: boolean;
  controls?: boolean;
  aspectRatio?: string;
}

const { 
  src, 
  poster, 
  autoplay = false, 
  loop = false, 
  muted = true,
  controls = true,
  aspectRatio = '16/9'
} = Astro.props;
---

<div class="video-player" style={`--aspect-ratio: ${aspectRatio}`}>
  <video
    src={src}
    poster={poster}
    autoplay={autoplay}
    loop={loop}
    muted={muted || autoplay}
    controls={controls}
    playsinline
  >
    Votre navigateur ne supporte pas la lecture de vid√©os.
  </video>
</div>

<style>
  .video-player {
    position: relative;
    width: 100%;
    aspect-ratio: var(--aspect-ratio);
    background: #000;
    border-radius: 8px;
    overflow: hidden;
    margin: 2rem 0;
  }
  
  video {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
</style>