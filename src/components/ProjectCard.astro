---
const { project } = Astro.props;
const { slug } = project;
const { title, thumbnail, description, categories, couleur } = project.data;

// Utiliser l'URL externe pour l'instant, ou placeholder
const imageUrl = thumbnail.startsWith('http') ? thumbnail : '/placeholder.jpg';
---

<article class="project-card" style={`--project-color: ${couleur || '#3085a3'}`}>
  <a href={`/projects/${slug}`}>
    <div class="project-image">
      <img src={imageUrl} alt={title} loading="lazy" />
      <div class="overlay"></div>
    </div>
    <div class="project-info">
      <h2>{title}</h2>
      {description && <p>{description}</p>}
      {categories.length > 0 && (
        <div class="categories">
          {categories.slice(0, 2).map(cat => (
            <span class="category">{cat}</span>
          ))}
        </div>
      )}
    </div>
  </a>
</article>