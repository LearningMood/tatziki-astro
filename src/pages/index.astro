<!-- index.astro -->
---
import Layout from '../components/Layout.astro';
import ProjectGrid from '../components/ProjectGrid.astro';
import { getCollection } from 'astro:content';

const projects = await getCollection('projects', ({ data }) => {
  return data.draft !== true;
});

projects.sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());
---

<Layout title="Portfolio">
  <div class="container">
    <header class="hero">
      <h1>Portfolio</h1>
      <p>Design graphique & DÃ©veloppement web</p>
    </header>
    
    <ProjectGrid projects={projects} />
  </div>
</Layout>

<style>
  .container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 2rem;
  }
  
  .hero {
    text-align: center;
    margin-bottom: 4rem;
  }
  
  h1 {
    font-size: 3rem;
    margin-bottom: 0.5rem;
  }
</style>